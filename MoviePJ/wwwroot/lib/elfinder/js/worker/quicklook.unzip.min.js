var type=self.data.type,bin=new Uint8Array(self.data.bin),unzipFiles=function(){var e,r,a,i=[];for(this.Y(),e=0,r=(a=this.i).length;e<r;++e)i[e]=a[e].filename+(a[e].J?" ({formatSize("+a[e].J+")})":"");return i},tarFiles=function(e){function r(e){return String.fromCharCode.apply(null,e).replace(/\0+$/,"")}for(var a,i,s,l=[],n=e.length,t=0;t<n&&0!==e[t];)a=r((s=e.subarray(t,t+512)).subarray(0,100)),(i=r(s.subarray(345,500)))&&(a=i+a),i=parseInt(r(s.subarray(124,136)),8),s=512*Math.ceil(i/512),"pax_global_header"!==(a="././@LongLink"===a?r(e.subarray(t+512,t+512+s)):a)&&l.push(a+(i?" ({formatSize("+i+")})":"")),t=t+512+s;return l};switch(self.res={},type){case"tar":self.res.files=tarFiles(bin);break;case"zip":self.res.files=unzipFiles.call(new Zlib.Unzip(bin));break;case"gzip":self.res.files=tarFiles(new Zlib.Gunzip(bin).decompress());break;case"bzip2":self.res.files=tarFiles(self.bzip2.simple(self.bzip2.array(bin)))}